<div *ngIf="isLoading(); else tablaGoleadores" class="text-center m-t-16">
  <mat-spinner diameter="50"></mat-spinner>
</div>

<ng-template #tablaGoleadores>
  <div *ngIf="goledores().length > 0; else sinDatos" class="table-responsive">
    <table mat-table [dataSource]="goledores()" class="w-100">

      <!-- Columna: Jugador -->
      <ng-container matColumnDef="jugador">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14 p-l-0">
          Jugadores
        </th>
        <td mat-cell *matCellDef="let element" class="p-l-0">
          <div class="d-flex align-items-center">
            <span>
              <img [src]="element.Equipo?.logotipo || 'assets/images/default-avatar.png'" 
                   alt="jugador"
                   width="40" 
                   class="rounded-circle" />
            </span>
            <div class="m-l-16">
              <h6 class="f-s-14 f-w-600 h-title">
                {{ element.Persona?.nombres }} {{ element.Persona?.apellidos }}
              </h6>
              <span class="f-s-12 text-muted">
                {{ element.Equipo?.nombre_equipo }}
              </span>
            </div>
          </div>
        </td>
      </ng-container>

      <!-- Columna: Goles -->
      <ng-container matColumnDef="goles">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14 text-right">
          Goles
        </th>
        <td mat-cell *matCellDef="let element" class="f-w-600 f-s-14 text-right">
          +{{ element.total_goles }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns3"></tr>
    </table>
  </div>

  <ng-template #sinDatos>
    <app-sin-datos [title]="'Sin goleadores'"></app-sin-datos>
  </ng-template>
</ng-template>
