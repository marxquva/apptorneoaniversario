<ng-container *ngIf="isLoading(); else content">
  <div class="loading-container">
    <div class="d-flex flex-col align-items-center">
      <mat-spinner diameter="40"></mat-spinner>
      <p class="m-t-16">Cargando tabla de posiciones...</p>
    </div>
  </div>
</ng-container>

<ng-template #content>
  <div class="table-responsive">
    <table mat-table [dataSource]="posiciones()" class="w-100">

      <!-- Columna POSICIÓN -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">#</th>
        <td mat-cell *matCellDef="let element; let i = index" class="f-s-14">
          {{ i + 1 }}
        </td>
      </ng-container>

      <!-- Columna EQUIPO -->
      <ng-container matColumnDef="equipo">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14 p-l-0">Equipo</th>
        <td mat-cell *matCellDef="let element" class="p-l-0">
          <div class="d-flex align-items-center">
            <img [src]="element.logotipo" alt="users" width="40" class="rounded-circle" />
            <div class="m-l-16">
              <h6 class="f-s-14 f-w-600 h-title">{{ element.equipo }}</h6>
            </div>
          </div>
        </td>
      </ng-container>

      <!-- Otras columnas -->
      <ng-container matColumnDef="pj">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">PJ</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.partidos_jugados }}</td>
      </ng-container>

      <ng-container matColumnDef="pg">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">PG</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.partidos_ganados }}</td>
      </ng-container>

      <ng-container matColumnDef="pe">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">PE</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.partidos_empatados }}</td>
      </ng-container>

      <ng-container matColumnDef="pp">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">PP</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.partidos_perdidos }}</td>
      </ng-container>

      <ng-container matColumnDef="gf">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">GF</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.goles }}</td>
      </ng-container>

      <ng-container matColumnDef="gc">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">GC</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.goles_en_contra }}</td>
      </ng-container>

      <ng-container matColumnDef="df">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">DF</th>
        <td mat-cell *matCellDef="let element" class="f-s-14">{{ element.diferencia_goles }}</td>
      </ng-container>

      <ng-container matColumnDef="pts">
        <th mat-header-cell *matHeaderCellDef class="f-w-600 f-s-14">PTS</th>
        <td mat-cell *matCellDef="let element">
          <span [ngClass]="getPuntosClass(element.puntos)" class="rounded f-w-600 p-6 p-y-4 f-s-12">
            {{ element.puntos }}
          </span>
        </td>
      </ng-container>

      <!-- Fila de encabezado y filas de datos -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
      <tr mat-row *matRowDef="let row; let i = index; columns: displayedColumns1"></tr>
    </table>
  </div>

  <div *ngIf="posiciones().length === 0" class="d-flex justify-content-center">
    <app-sin-datos [title]="'Sin estadísticas'"></app-sin-datos>
  </div>
</ng-template>
